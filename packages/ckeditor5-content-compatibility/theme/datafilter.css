:root {
	--ck-widget-compatibility-base-background: var(--ck-color-widget-blurred-border)
}

.ck .ck-widget {
	&.ck-widget__compatibility {
		padding: 20px 0 15px 0;
		min-height: 20px;
		border: 1px dotted hsl(15, 100%, 43%);

		& .ck-widget__compatibility-type {
			opacity: 0;
			font-size: var(--ck-font-size-tiny);
			padding: 0 5px;
			background: var(--ck-widget-compatibility-base-background);
			display: block;
			position: absolute;
			overflow: hidden;
			z-index: var(--ck-z-default);
			/* Place it in the middle of the outline */
			top: calc(-0.5 * var(--ck-widget-outline-thickness));
			right: min(10%, 30px);
			transform: translateY(-50%);
		}

		&.ck-widget_selected > .ck-widget__compatibility-type {
			opacity: 1;
			color: var(--ck-color-base-background);
			background: var(--ck-color-focus-border);
		}

		&:not(.ck-widget_selected):hover > .ck-widget__compatibility-type {
			opacity: 1;
			color: var(--ck-color-base-background);
			background: var(--ck-color-widget-hover-border);
		}
	}

	&.ck-widget__compatibility-inline {
		display: inline-block;
		min-width: 100px;
	}
}

.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget__compatibility.ck-widget_selected > .ck-widget__compatibility-type {
	color: hsl(0,0%,60%);
	background: var(--ck-widget-compatibility-base-background);
}
